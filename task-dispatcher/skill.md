---
name: task-dispatcher
description: "è·¯ç”±å¼€å‘ä»»åŠ¡åˆ° Codex æ‰§è¡Œã€‚è§¦å‘è¯ï¼š/dispatchã€ä»»åŠ¡åˆ†æ´¾ã€‚é»˜è®¤ Codex æ‰§è¡Œï¼Œè‡ªåŠ¨æ‹†åˆ†ä»»åŠ¡ã€è®¾ç½®éªŒè¯ã€æ”¯æŒå¹¶å‘åˆ†æ´¾ã€‚"
---

# Task Dispatcher

**æ ¸å¿ƒç­–ç•¥**ï¼šä»»åŠ¡ç»†åˆ† â†’ éªŒè¯å®šä¹‰ â†’ å¹¶å‘åˆ†æ´¾ â†’ Codex æ‰§è¡Œ â†’ ç»“æœéªŒæ”¶

## è§¦å‘æ–¹å¼

- `/dispatch <ä»»åŠ¡æè¿°>`
- `/task-dispatcher`
- æ£€æµ‹åˆ°å¼€å‘ä»»åŠ¡æ—¶è‡ªåŠ¨è§¦å‘

## æ ¸å¿ƒåŸåˆ™

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. å…ˆæ‹†åˆ†ï¼Œåæ‰§è¡Œ - ä»»åŠ¡å¿…é¡»ç»†åˆ†åˆ°å•ä¸€èŒè´£               â”‚
â”‚  2. å…ˆéªŒè¯ï¼Œååˆ†æ´¾ - æ¯ä¸ªå­ä»»åŠ¡å¿…é¡»æœ‰éªŒè¯å‘½ä»¤             â”‚
â”‚  3. å¯å¹¶å‘åˆ™å¹¶å‘ - æ— ä¾èµ–çš„ä»»åŠ¡å¹¶è¡Œæ‰§è¡Œ                   â”‚
â”‚  4. å¤±è´¥æœ‰å›é€€ - é¢„å®šä¹‰å¤±è´¥å¤„ç†ç­–ç•¥                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## è·¯ç”±å†³ç­–æ ‘

```
ç”¨æˆ·è¯·æ±‚
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç¬¬ä¸€æ­¥ï¼šæ˜¯å¦éœ€è¦æ·±åº¦æ¨ç†ï¼Ÿ       â”‚
â”‚ (åˆ†æ/è®¾è®¡/è§„åˆ’/è°ƒè¯•/å†³ç­–)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                    â”‚
    â–¼ æ˜¯                 â–¼ å¦
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Claude  â”‚      â”‚ ç¬¬äºŒæ­¥ï¼šä»»åŠ¡æ‹†åˆ† â”‚
â”‚ æ¨ç†    â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
    â”‚                    â–¼
    â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚           â”‚ ç¬¬ä¸‰æ­¥ï¼šå®šä¹‰éªŒè¯æ ‡å‡† â”‚
    â”‚           â”‚ (æ¯ä¸ªå­ä»»åŠ¡)         â”‚
    â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                    â”‚
    â”‚                    â–¼
    â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚           â”‚ ç¬¬å››æ­¥ï¼šä¾èµ–åˆ†æ     â”‚
    â”‚           â”‚ è¯†åˆ«å¯å¹¶å‘ä»»åŠ¡       â”‚
    â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                    â”‚
    â”‚                    â–¼
    â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚           â”‚ ç¬¬äº”æ­¥ï¼šå¹¶å‘åˆ†æ´¾     â”‚
    â”‚           â”‚ Task(...) å¤šä¸ªè°ƒç”¨  â”‚
    â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                    â”‚
    â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç¬¬å…­æ­¥ï¼šéªŒè¯ç»“æœ                 â”‚
â”‚ é€šè¿‡ â†’ ç»§ç»­ / å¤±è´¥ â†’ å›é€€ç­–ç•¥   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ç¬¬ä¸€æ­¥ï¼šä»»åŠ¡æ‹†åˆ†è§„åˆ™

### æ‹†åˆ†åŸåˆ™

| åŸåˆ™ | æè¿° | ç¤ºä¾‹ |
|------|------|------|
| å•ä¸€èŒè´£ | ä¸€ä¸ªå­ä»»åŠ¡åªåšä¸€ä»¶äº‹ | âŒ "å®ç°å¹¶æµ‹è¯•ç™»å½•" â†’ âœ… "å®ç°ç™»å½•" + "æµ‹è¯•ç™»å½•" |
| å•æ–‡ä»¶ | ä¸€ä¸ªå­ä»»åŠ¡æœ€å¤šæ”¹ä¸€ä¸ªæ–‡ä»¶ | âŒ "é‡æ„ A å’Œ B" â†’ âœ… "é‡æ„ A" + "é‡æ„ B" |
| å¯éªŒè¯ | å¿…é¡»æœ‰æ˜ç¡®çš„éªŒè¯å‘½ä»¤ | æ¯ä¸ªå­ä»»åŠ¡å¿…é¡»æœ‰å¯¹åº”çš„ `éªŒè¯: xxx` |
| åŸå­æ€§ | æ‰§è¡Œå¤±è´¥å¯ç‹¬ç«‹å›é€€ | ä¸å½±å“å…¶ä»–å­ä»»åŠ¡çš„çŠ¶æ€ |

### æ‹†åˆ†ç²’åº¦æ ‡å‡†

```python
def should_split(task):
    # å¿…é¡»æ‹†åˆ†çš„æƒ…å†µ
    if "å¹¶" in task or "å’Œ" in task or "+" in task:
        return True
    if count_target_files(task) > 1:
        return True
    if has_multiple_verbs(task):  # å®ç°ã€æµ‹è¯•ã€é‡æ„...
        return True
    if estimated_lines_changed(task) > 100:
        return True
    return False
```

### æ‹†åˆ†ç¤ºä¾‹

**è¾“å…¥**: "å®ç°ç”¨æˆ·ç™»å½•åŠŸèƒ½å¹¶æ·»åŠ å•å…ƒæµ‹è¯•"

**æ‹†åˆ†è¾“å‡º**:
```yaml
å­ä»»åŠ¡:
  - id: 1
    æè¿°: å®ç° UserService.login() æ–¹æ³•
    æ–‡ä»¶: src/services/user.ts
    éªŒè¯: "tsc --noEmit && grep -q 'login' src/services/user.ts"
    ä¾èµ–: []

  - id: 2
    æè¿°: å®ç°ç™»å½• API ç«¯ç‚¹ POST /api/login
    æ–‡ä»¶: src/routes/auth.ts
    éªŒè¯: "curl -X POST localhost:3000/api/login -d '{}' | jq .error"
    ä¾èµ–: [1]

  - id: 3
    æè¿°: ç¼–å†™ UserService.login å•å…ƒæµ‹è¯•
    æ–‡ä»¶: tests/user.test.ts
    éªŒè¯: "npm test -- --grep 'login'"
    ä¾èµ–: [1]
```

## ç¬¬äºŒæ­¥ï¼šéªŒè¯æ ‡å‡†å®šä¹‰

### éªŒè¯å‘½ä»¤æ¨¡æ¿

| ä»»åŠ¡ç±»å‹ | éªŒè¯å‘½ä»¤æ¨¡æ¿ |
|----------|--------------|
| TypeScript ä»£ç  | `tsc --noEmit` |
| Rust ä»£ç  | `cargo check` / `cargo build` |
| å•å…ƒæµ‹è¯• | `npm test -- --grep '{pattern}'` / `pytest -k {pattern}` |
| API ç«¯ç‚¹ | `curl -s {url} \| jq .{field}` |
| æ–‡ä»¶å­˜åœ¨ | `test -f {path} && echo "OK"` |
| ä»£ç åŒ…å« | `grep -q '{pattern}' {file} && echo "OK"` |
| Lint é€šè¿‡ | `eslint {file} --quiet` / `cargo clippy` |
| Build é€šè¿‡ | `npm run build` / `cargo build --release` |

### éªŒè¯è§„èŒƒ

```yaml
éªŒè¯:
  å‘½ä»¤: "npm test -- --grep 'login'"
  é¢„æœŸ: "exit_code == 0 && stdout contains 'passing'"
  è¶…æ—¶: 60s
  é‡è¯•: 2
```

### éªŒè¯å¤±è´¥åˆ¤å®š

```python
def is_verification_failed(result):
    # æ˜ç¡®å¤±è´¥
    if result.exit_code != 0:
        return True
    # è¾“å‡ºåŒ…å«é”™è¯¯æ ‡è®°
    if any(err in result.stdout for err in ["FAIL", "Error", "error:"]):
        return True
    # é¢„æœŸå†…å®¹ç¼ºå¤±
    if expected_pattern and expected_pattern not in result.stdout:
        return True
    return False
```

## ç¬¬ä¸‰æ­¥ï¼šå¤±è´¥å›é€€ç­–ç•¥

### å›é€€ç­–ç•¥çŸ©é˜µ

| å¤±è´¥ç±»å‹ | ç­–ç•¥ | è¡ŒåŠ¨ |
|----------|------|------|
| ç¼–è¯‘é”™è¯¯ | Codex é‡è¯• | é™„åŠ é”™è¯¯ä¿¡æ¯ï¼Œè®© Codex ä¿®å¤ |
| æµ‹è¯•å¤±è´¥ | Codex é‡è¯• | é™„åŠ å¤±è´¥ç”¨ä¾‹ï¼Œè®© Codex ä¿®å¤ |
| é€»è¾‘é”™è¯¯ | Claude ä»‹å…¥ | Claude åˆ†ææ ¹å› ï¼Œé‡æ–°è§„åˆ’ |
| è¶…æ—¶ | é‡è¯• 1 æ¬¡ | å¢åŠ è¶…æ—¶æ—¶é—´é‡è¯• |
| è¿ç»­ 2 æ¬¡å¤±è´¥ | Claude æ¥ç®¡ | åœæ­¢ Codexï¼ŒClaude å®Œå…¨æ¥ç®¡ |

### å›é€€æµç¨‹

```
Codex æ‰§è¡Œå­ä»»åŠ¡
        â”‚
        â–¼
    éªŒè¯ç»“æœ
        â”‚
    â”Œâ”€â”€â”€â”´â”€â”€â”€â”
    â”‚       â”‚
   é€šè¿‡    å¤±è´¥
    â”‚       â”‚
    â–¼       â–¼
  ç»§ç»­   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  ä¸‹ä¸ª   â”‚ å¤±è´¥æ¬¡æ•° < 2?   â”‚
  ä»»åŠ¡   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚         â”‚
             æ˜¯        å¦
              â”‚         â”‚
              â–¼         â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Codex   â”‚  â”‚ Claude  â”‚
        â”‚ é‡è¯•    â”‚  â”‚ æ¥ç®¡    â”‚
        â”‚ +é”™è¯¯   â”‚  â”‚ åˆ†æ    â”‚
        â”‚  ä¿¡æ¯   â”‚  â”‚ æ ¹å›     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é‡è¯• Prompt æ¨¡æ¿

```
ä¸Šæ¬¡æ‰§è¡Œå¤±è´¥ã€‚

é”™è¯¯ä¿¡æ¯:
{error_output}

å¤±è´¥çš„éªŒè¯å‘½ä»¤:
{verification_command}

è¯·ä¿®å¤é—®é¢˜åé‡æ–°æ‰§è¡Œã€‚æ³¨æ„ï¼š
1. ä»”ç»†é˜…è¯»é”™è¯¯ä¿¡æ¯
2. åªä¿®æ”¹å¿…è¦çš„éƒ¨åˆ†
3. ç¡®ä¿é€šè¿‡éªŒè¯å‘½ä»¤
```

## ç¬¬å››æ­¥ï¼šå¹¶å‘åˆ†æ´¾ç­–ç•¥

### ä¾èµ–åˆ†æ

```python
def analyze_dependencies(subtasks):
    """
    åˆ†æå­ä»»åŠ¡ä¾èµ–å…³ç³»ï¼Œè¿”å›æ‰§è¡Œæ‰¹æ¬¡
    """
    # æ„å»ºä¾èµ–å›¾
    graph = build_dependency_graph(subtasks)

    # æ‹“æ‰‘æ’åºï¼Œåˆ†å±‚
    batches = []
    while graph.has_nodes():
        # æ— ä¾èµ–çš„ä»»åŠ¡å¯å¹¶å‘æ‰§è¡Œ
        ready = [t for t in graph.nodes if graph.in_degree(t) == 0]
        batches.append(ready)
        graph.remove_nodes(ready)

    return batches
```

### å¹¶å‘æ‰§è¡Œè§„åˆ™

| æ¡ä»¶ | å¹¶å‘ | åŸå›  |
|------|------|------|
| æ— ä¾èµ– | âœ… å¹¶å‘ | å¯ç‹¬ç«‹æ‰§è¡Œ |
| ä¸åŒæ–‡ä»¶ | âœ… å¹¶å‘ | æ— å†²çª |
| åŒæ–‡ä»¶ä¸åŒå‡½æ•° | âš ï¸ ä¸²è¡Œ | å¯èƒ½å†²çª |
| æœ‰æ˜¾å¼ä¾èµ– | âŒ ä¸²è¡Œ | å¿…é¡»ç­‰å¾… |
| å…±äº«çŠ¶æ€ | âŒ ä¸²è¡Œ | é¿å…ç«æ€ |

### å¹¶å‘åˆ†æ´¾ç¤ºä¾‹

```python
# å‡è®¾æœ‰ 5 ä¸ªå­ä»»åŠ¡
# ä¾èµ–å…³ç³»: 3 ä¾èµ– 1, 4 ä¾èµ– 2, 5 ä¾èµ– 3 å’Œ 4

batches = [
    [task_1, task_2],  # ç¬¬ä¸€æ‰¹ï¼šå¹¶å‘æ‰§è¡Œ
    [task_3, task_4],  # ç¬¬äºŒæ‰¹ï¼šç­‰ç¬¬ä¸€æ‰¹å®Œæˆåå¹¶å‘
    [task_5]           # ç¬¬ä¸‰æ‰¹ï¼šç­‰ç¬¬äºŒæ‰¹å®Œæˆ
]

# Claude åˆ†æ´¾ä»£ç 
for batch in batches:
    # åŒä¸€æ‰¹æ¬¡å†…çš„ä»»åŠ¡å¹¶å‘æ‰§è¡Œ
    # ä½¿ç”¨å•ä¸ªæ¶ˆæ¯åŒ…å«å¤šä¸ª Task è°ƒç”¨
    Task(subagent_type="codex-executor", prompt=task_1.prompt)
    Task(subagent_type="codex-executor", prompt=task_2.prompt)
    # ç­‰å¾…æœ¬æ‰¹æ¬¡å…¨éƒ¨å®Œæˆ
    # éªŒè¯ç»“æœ
    # å¤„ç†å¤±è´¥
```

### å¹¶å‘åˆ†æ´¾ Prompt æ ¼å¼

å½“éœ€è¦å¹¶å‘æ‰§è¡Œå¤šä¸ªç‹¬ç«‹ä»»åŠ¡æ—¶ï¼Œåœ¨**å•ä¸ªæ¶ˆæ¯**ä¸­è°ƒç”¨å¤šä¸ª Taskï¼š

```
æˆ‘å°†å¹¶å‘æ‰§è¡Œä»¥ä¸‹ç‹¬ç«‹ä»»åŠ¡ï¼š

æ‰¹æ¬¡ 1 (å¹¶å‘):
- ä»»åŠ¡ 1: {æè¿°}
- ä»»åŠ¡ 2: {æè¿°}

[åŒæ—¶è°ƒç”¨å¤šä¸ª Task tool]
```

## ç¬¬äº”æ­¥ï¼šåˆ†æ´¾è¾“å‡ºæ ¼å¼

### åˆ†æ´¾æŠ¥å‘Š

```markdown
## ğŸ”€ ä»»åŠ¡åˆ†æ´¾æŠ¥å‘Š

### åŸå§‹ä»»åŠ¡
{original_task}

### æ‹†åˆ†ç»“æœ

| # | å­ä»»åŠ¡ | æ–‡ä»¶ | éªŒè¯å‘½ä»¤ | ä¾èµ– |
|---|--------|------|----------|------|
| 1 | {desc} | {file} | {verify} | - |
| 2 | {desc} | {file} | {verify} | 1 |
| 3 | {desc} | {file} | {verify} | 1 |

### æ‰§è¡Œè®¡åˆ’

```
æ‰¹æ¬¡ 1 (å¹¶å‘): [ä»»åŠ¡ 1]
æ‰¹æ¬¡ 2 (å¹¶å‘): [ä»»åŠ¡ 2, ä»»åŠ¡ 3]
```

### å¤±è´¥å›é€€
- ç¼–è¯‘å¤±è´¥: Codex é‡è¯• (æœ€å¤š 2 æ¬¡)
- æµ‹è¯•å¤±è´¥: Codex é‡è¯• + é”™è¯¯ä¿¡æ¯
- è¿ç»­å¤±è´¥: Claude æ¥ç®¡åˆ†æ

---
å¼€å§‹æ‰§è¡Œ...
```

## å§”æ‰˜æ¨¡æ¿

### æ ‡å‡† Codex ä»»åŠ¡æ¨¡æ¿

```
## ä»»åŠ¡
{task_description}

## ä¸Šä¸‹æ–‡
- é¡¹ç›®: {project_path}
- ç›®æ ‡æ–‡ä»¶: {target_file}
- ç›¸å…³æ–‡ä»¶: {related_files}

## è¦æ±‚
{requirements}

## éªŒè¯
æ‰§è¡Œå®Œæˆåï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤éªŒè¯ï¼š
```bash
{verification_command}
```

é¢„æœŸç»“æœ: {expected_output}

## çº¦æŸ
- åªä¿®æ”¹ç›®æ ‡æ–‡ä»¶
- ä¿æŒä»£ç é£æ ¼ä¸€è‡´
- ä¸å¼•å…¥æ–°ä¾èµ–ï¼ˆé™¤éå¿…è¦ï¼‰
```

### é‡è¯•ä»»åŠ¡æ¨¡æ¿

```
## ä»»åŠ¡ (é‡è¯•)
{task_description}

## ä¸Šæ¬¡å¤±è´¥åŸå› 
{error_message}

## å¤±è´¥çš„éªŒè¯è¾“å‡º
```
{verification_output}
```

## ä¿®å¤è¦æ±‚
1. åˆ†æä¸Šè¿°é”™è¯¯
2. å®šä½é—®é¢˜æ ¹å› 
3. å®ç°ä¿®å¤
4. ç¡®ä¿éªŒè¯é€šè¿‡

## éªŒè¯å‘½ä»¤
{verification_command}
```

## å®Œæ•´ç¤ºä¾‹

### ç¤ºä¾‹ï¼šå®ç°ç”¨æˆ·è®¤è¯æ¨¡å—

**è¾“å…¥**: "å®ç°ç”¨æˆ·æ³¨å†Œå’Œç™»å½•åŠŸèƒ½"

**ç¬¬ä¸€æ­¥ - æ‹†åˆ†**:
```yaml
å­ä»»åŠ¡:
  - id: 1
    æè¿°: åˆ›å»º User æ•°æ®æ¨¡å‹
    æ–‡ä»¶: src/models/user.ts
    éªŒè¯: "tsc --noEmit src/models/user.ts"
    ä¾èµ–: []

  - id: 2
    æè¿°: å®ç° hashPassword å·¥å…·å‡½æ•°
    æ–‡ä»¶: src/utils/crypto.ts
    éªŒè¯: "npm test -- --grep 'hashPassword'"
    ä¾èµ–: []

  - id: 3
    æè¿°: å®ç° UserService.register()
    æ–‡ä»¶: src/services/user.ts
    éªŒè¯: "npm test -- --grep 'register'"
    ä¾èµ–: [1, 2]

  - id: 4
    æè¿°: å®ç° UserService.login()
    æ–‡ä»¶: src/services/user.ts
    éªŒè¯: "npm test -- --grep 'login'"
    ä¾èµ–: [1, 2]

  - id: 5
    æè¿°: å®ç° POST /api/register ç«¯ç‚¹
    æ–‡ä»¶: src/routes/auth.ts
    éªŒè¯: "curl -s -X POST localhost:3000/api/register -H 'Content-Type: application/json' -d '{\"email\":\"test@test.com\",\"password\":\"123456\"}' | jq .success"
    ä¾èµ–: [3]

  - id: 6
    æè¿°: å®ç° POST /api/login ç«¯ç‚¹
    æ–‡ä»¶: src/routes/auth.ts
    éªŒè¯: "curl -s -X POST localhost:3000/api/login -H 'Content-Type: application/json' -d '{\"email\":\"test@test.com\",\"password\":\"123456\"}' | jq .token"
    ä¾èµ–: [4]
```

**ç¬¬äºŒæ­¥ - ä¾èµ–åˆ†æ**:
```
æ‰¹æ¬¡ 1 (å¹¶å‘): [ä»»åŠ¡ 1, ä»»åŠ¡ 2]  # æ— ä¾èµ–ï¼Œå¯å¹¶å‘
æ‰¹æ¬¡ 2 (å¹¶å‘): [ä»»åŠ¡ 3, ä»»åŠ¡ 4]  # ä¾èµ–æ‰¹æ¬¡ 1
æ‰¹æ¬¡ 3 (å¹¶å‘): [ä»»åŠ¡ 5, ä»»åŠ¡ 6]  # ä¾èµ–æ‰¹æ¬¡ 2
```

**ç¬¬ä¸‰æ­¥ - æ‰§è¡Œ**:
```python
# æ‰¹æ¬¡ 1ï¼šå¹¶å‘æ‰§è¡Œ
Task(subagent_type="codex-executor", prompt="åˆ›å»º User æ¨¡å‹...")
Task(subagent_type="codex-executor", prompt="å®ç° hashPassword...")
# ç­‰å¾… + éªŒè¯

# æ‰¹æ¬¡ 2ï¼šå¹¶å‘æ‰§è¡Œ
Task(subagent_type="codex-executor", prompt="å®ç° register...")
Task(subagent_type="codex-executor", prompt="å®ç° login...")
# ç­‰å¾… + éªŒè¯

# æ‰¹æ¬¡ 3ï¼šå¹¶å‘æ‰§è¡Œ
Task(subagent_type="codex-executor", prompt="å®ç° /api/register...")
Task(subagent_type="codex-executor", prompt="å®ç° /api/login...")
# ç­‰å¾… + éªŒè¯
```

## æ³¨æ„äº‹é¡¹

1. **å¿…é¡»æ‹†åˆ†**: å¤æ‚ä»»åŠ¡å¿…é¡»æ‹†åˆ†ï¼Œç¦æ­¢ç›´æ¥åˆ†æ´¾
2. **å¿…é¡»éªŒè¯**: æ¯ä¸ªå­ä»»åŠ¡å¿…é¡»æœ‰éªŒè¯å‘½ä»¤ï¼Œç¦æ­¢æ— éªŒè¯åˆ†æ´¾
3. **ä¼˜å…ˆå¹¶å‘**: æ— ä¾èµ–ä»»åŠ¡å¿…é¡»å¹¶å‘æ‰§è¡Œï¼Œæé«˜æ•ˆç‡
4. **åŠæ—¶å›é€€**: è¿ç»­å¤±è´¥ç«‹å³åœæ­¢ï¼ŒClaude ä»‹å…¥åˆ†æ
5. **çŠ¶æ€éš”ç¦»**: å¹¶å‘ä»»åŠ¡ä¸èƒ½å…±äº«å¯å˜çŠ¶æ€
6. **ç”¨æˆ·å¯è§**: æ˜¾ç¤ºå®Œæ•´åˆ†æ´¾æŠ¥å‘Šï¼Œä¿æŒé€æ˜
