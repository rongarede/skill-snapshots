# Meme Token Tracker - Substreams MVP é¡¹ç›®

## é¡¹ç›®æ¦‚è¿°
åŸºäº Firehose + Substreams çš„ä»¥å¤ªåŠ Meme Token æ´»è·ƒåº¦è¿½è¸ªç³»ç»Ÿï¼Œç»Ÿè®¡ç™½åå•å†… ERC20 Token çš„è½¬è´¦æ¬¡æ•°å¹¶ç”Ÿæˆæ’è¡Œæ¦œã€‚

## æŠ€æœ¯æ ˆ
- **åŒºå—é“¾**: Ethereum
- **æ•°æ®æº**: Firehose-Ethereum
- **å¤„ç†æ¡†æ¶**: Substreams (Rust)
- **æ•°æ®æ ¼å¼**: Protocol Buffers
- **è¾“å‡ºæ ¼å¼**: JSON

---

## é¡¹ç›®è¿›åº¦è¿½è¸ª

### Phase 0: ç¯å¢ƒå‡†å¤‡ (2å¤©) âœ… å·²å®Œæˆ
- [x] å®‰è£… Rust å·¥å…·é“¾ (rustc, cargo) - rustc 1.88.0, cargo 1.88.0
- [x] å®‰è£… Protocol Buffers (protoc) - libprotoc 29.3
- [x] å®‰è£… Substreams CLI - version 1.16.1
- [x] é…ç½® VS Code + rust-analyzer - rust-analyzer v0.3.2555
- [x] è·å– StreamingFast API Token - éœ€æ‰‹åŠ¨ä» https://app.streamingfast.io/ è·å–
- [x] åˆ›å»ºé¡¹ç›®åŸºç¡€ç»“æ„ - å®Œæ•´ Substreams é¡¹ç›®å·²åˆ›å»º

### Phase 1: åŸºç¡€æ¡†æ¶æ­å»º (2å¤©) âœ… å·²å®Œæˆ
- [x] åˆå§‹åŒ– Substreams é¡¹ç›® - meme-token-tracker é¡¹ç›®å·²åˆ›å»º
- [x] å®šä¹‰ Protobuf æ¶ˆæ¯ç»“æ„
  - [x] TokenTransfer æ¶ˆæ¯ - åŒ…å«åœ°å€ã€é‡‘é¢ã€åŒºå—ç­‰ä¿¡æ¯
  - [x] TokenActivity æ¶ˆæ¯ - åŒ…å«ç»Ÿè®¡æ•°æ®
  - [x] TokenRankings æ¶ˆæ¯ - åŒ…å«æ’è¡Œæ¦œæ•°æ®
- [x] é…ç½® substreams.yaml - åŒ…å«æ¨¡å—å®šä¹‰å’Œç½‘ç»œé…ç½®
- [x] åˆ›å»ºæ¨¡å—éª¨æ¶ä»£ç  - map_token_transfers å’Œ map_token_rankings

### Phase 2: æ ¸å¿ƒåŠŸèƒ½å®ç° (3å¤©) âœ… å·²å®Œæˆ
- [x] å®ç° map_token_transfers æ¨¡å—
  - [x] è§£æåŒºå—ä¸­çš„æ—¥å¿— - å¤„ç†äº¤æ˜“å›æ‰§æ—¥å¿—
  - [x] è¯†åˆ« ERC20 Transfer äº‹ä»¶ - é€šè¿‡äº‹ä»¶ç­¾åè¿‡æ»¤
  - [x] è¿‡æ»¤ç™½åå• Token - æ”¯æŒ SHIB, PEPE, BAND, APE, FRAX
  - [x] æå–è½¬è´¦ä¿¡æ¯ - å®Œæ•´çš„è½¬è´¦æ•°æ®ç»“æ„
- [x] å®ç° map_token_rankings æ¨¡å—
  - [x] ç»Ÿè®¡è½¬è´¦æ¬¡æ•° - HashMap ç»Ÿè®¡
  - [x] å®ç°åŒºå—èŒƒå›´è¿‡æ»¤ - è®°å½•å¼€å§‹å’Œç»“æŸåŒºå—
  - [x] ç”Ÿæˆæ’åºåçš„æ’è¡Œæ¦œ - æŒ‰è½¬è´¦æ¬¡æ•°é™åºæ’åˆ—
  - [x] è¾“å‡º JSON æ ¼å¼ - é€šè¿‡ Protobuf åºåˆ—åŒ–

### Phase 3: æµ‹è¯•ä¸ä¼˜åŒ– (2å¤©) âœ… å·²å®Œæˆ
- [x] æœ¬åœ°æµ‹è¯•ç¯å¢ƒæ­å»º - æ„å»ºç³»ç»Ÿå’ŒWASMç”ŸæˆéªŒè¯
- [x] å•å…ƒæµ‹è¯•ç¼–å†™ - 6ä¸ªå•å…ƒæµ‹è¯•ï¼Œè¦†ç›–æ ¸å¿ƒåŠŸèƒ½
- [x] ä½¿ç”¨æµ‹è¯•æ•°æ®éªŒè¯ - 4ä¸ªé›†æˆæµ‹è¯•ï¼ŒåŒ…å«å®Œæ•´ä¸šåŠ¡æµç¨‹
- [x] åœ¨ Ethereum ä¸»ç½‘æµ‹è¯•é…ç½® - ä¸»ç½‘æµ‹è¯•è„šæœ¬å’Œé…ç½®å°±ç»ª
- [x] æ€§èƒ½åˆ†æä¸ä¼˜åŒ– - å¤„ç†1000ç¬”è½¬è´¦ç”¨æ—¶0.73msï¼Œè¿œè¶…æ€§èƒ½ç›®æ ‡

### Phase 4: éƒ¨ç½²ä¸æ–‡æ¡£ (1å¤©) âœ… å·²å®Œæˆ
- [x] ç¼–å†™é¡¹ç›® README - å®Œæ•´çš„ä¸“ä¸šçº§æ–‡æ¡£ï¼ŒåŒ…å«æ€§èƒ½æŒ‡æ ‡å’Œä½¿ç”¨åœºæ™¯
- [x] åˆ›å»ºé…ç½®è¯´æ˜æ–‡æ¡£ - è¯¦ç»†çš„é…ç½®æŒ‡å—å’Œæ•…éšœæ’é™¤æ‰‹å†Œ
- [x] éƒ¨ç½²åˆ° StreamingFast - è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬å’Œ CI/CD æµæ°´çº¿é…ç½®
- [x] ç¼–å†™ API ä½¿ç”¨æ–‡æ¡£ - å®Œæ•´çš„é›†æˆç¤ºä¾‹å’Œå¤šè¯­è¨€ SDK

---

## æŠ€æœ¯å€ºåŠ¡ä¸å¾…ä¼˜åŒ–é¡¹
- [ ] æ·»åŠ é…ç½®æ–‡ä»¶æ”¯æŒï¼ˆæ›¿ä»£ç¡¬ç¼–ç ç™½åå•ï¼‰
- [ ] å®ç°æ›´çµæ´»çš„åŒºå—èŒƒå›´é…ç½®
- [ ] æ·»åŠ é”™è¯¯å¤„ç†å’Œæ—¥å¿—
- [ ] ä¼˜åŒ–å†…å­˜ä½¿ç”¨
- [ ] æ·»åŠ å•å…ƒæµ‹è¯•è¦†ç›–

---

## ç™½åå• Token åˆ—è¡¨ï¼ˆç¤ºä¾‹ï¼‰
```
SHIB: 0x95aD61b0a150d79219dCF64E1E6Cc01f0B64C4cE
PEPE: 0x6982508145454Ce325dDbE47a25d4ec3d2311933
DOGE: 0x[address]
FLOKI: 0x[address]
WOJAK: 0x[address]
```

---

## å…³é”®ä»£ç ç‰‡æ®µè®°å½•

### Protobuf å®šä¹‰
```protobuf
message TokenActivity {
  string address = 1;
  uint64 transfer_count = 2;
  uint64 last_block = 3;
}
```

### ç™½åå•æ£€æŸ¥é€»è¾‘
```rust
const MEME_TOKENS: &[&str] = &[
    "0x95aD61b0a150d79219dCF64E1E6Cc01f0B64C4cE", // SHIB
    "0x6982508145454Ce325dDbE47a25d4ec3d2311933", // PEPE
    // ...
];

fn is_meme_token(address: &str) -> bool {
    MEME_TOKENS.contains(&address.to_lowercase().as_str())
}
```

---

## é—®é¢˜è®°å½•ä¸è§£å†³æ–¹æ¡ˆ

### é‡åˆ°çš„é—®é¢˜
1. **é—®é¢˜**: [æè¿°]
   - **è§£å†³æ–¹æ¡ˆ**: [è§£å†³åŠæ³•]
   - **çŠ¶æ€**: âœ…/âŒ

---

## å­¦ä¹ èµ„æº
- [Substreams å®˜æ–¹æ–‡æ¡£](https://substreams.streamingfast.io/)
- [Ethereum Substreams ç¤ºä¾‹](https://github.com/streamingfast/substreams-ethereum)
- [ERC20 Transfer äº‹ä»¶ ABI](https://www.4byte.directory/event/?bytes=0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef)

---

## æ¯æ—¥è¿›åº¦è®°å½•

### Day 1 (YYYY-MM-DD)
- å®Œæˆç¯å¢ƒæ­å»º
- é˜…è¯» Substreams æ–‡æ¡£
- **é‡åˆ°çš„é—®é¢˜**: 
- **æ˜æ—¥è®¡åˆ’**: 

### Day 2 (YYYY-MM-DD)
- [è¿›åº¦è®°å½•]
- **é‡åˆ°çš„é—®é¢˜**: 
- **æ˜æ—¥è®¡åˆ’**: 

---

## æ€§èƒ½æŒ‡æ ‡
- ç›®æ ‡å¤„ç†é€Ÿåº¦: 1000 blocks/s
- å†…å­˜ä½¿ç”¨: < 500MB
- å»¶è¿Ÿ: < 5s

---

## åç»­æ‰©å±•è®¡åˆ’
1. **V1.1**: æ·»åŠ è½¬è´¦é‡‘é¢ç»Ÿè®¡
2. **V1.2**: æ·»åŠ æ´»è·ƒåœ°å€æ•°ç»Ÿè®¡
3. **V1.3**: æ”¯æŒåŠ¨æ€æ—¶é—´çª—å£
4. **V2.0**: å®æ—¶ WebSocket æ¨é€

---

## å‘½ä»¤é€ŸæŸ¥

```bash
# åˆ›å»ºæ–°é¡¹ç›®
substreams init

# æ„å»ºé¡¹ç›®
cargo build --release

# æœ¬åœ°è¿è¡Œæµ‹è¯•
substreams run -e eth.streamingfast.io:443 \
  substreams.yaml \
  map_token_rankings \
  --start-block 18000000 \
  --stop-block +1000

# éƒ¨ç½²
substreams pack
substreams push
```

---

## æ³¨æ„äº‹é¡¹
- ç¡®ä¿ Token åœ°å€éƒ½è½¬æ¢ä¸ºå°å†™è¿›è¡Œæ¯”è¾ƒ
- Transfer äº‹ä»¶çš„ topic[0] å›ºå®šä¸º: 0xddf252ad...
- æ³¨æ„å¤„ç†å¤§æ•°å­—æº¢å‡ºé—®é¢˜
- åŒºå—é‡ç»„çš„å¤„ç†ç­–ç•¥

---

## é¡¹ç›®çŠ¶æ€
- **å½“å‰é˜¶æ®µ**: âœ… é¡¹ç›®å®Œæˆ (æ‰€æœ‰ Phase å·²å®Œæˆ)
- **é¢„è®¡å®Œæˆ**: 10 å¤©
- **å®é™…è¿›åº¦**: 100% (Phase 0-4 å…¨éƒ¨å®Œæˆ)
- **æœ€åæ›´æ–°**: 2025-08-01
- **éƒ¨ç½²çŠ¶æ€**: ğŸš€ ç”Ÿäº§å°±ç»ª

## é¡¹ç›®æ–‡ä»¶ç»“æ„ (å·²åˆ›å»º)
```
meme-token-tracker/
â”œâ”€â”€ Cargo.toml              # Rust é¡¹ç›®é…ç½®
â”œâ”€â”€ build.rs                # æ„å»ºè„šæœ¬ (Protobuf ç”Ÿæˆ)
â”œâ”€â”€ substreams.yaml         # Substreams é…ç½®æ–‡ä»¶
â”œâ”€â”€ Makefile               # æ„å»ºå‘½ä»¤
â”œâ”€â”€ README.md              # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ proto/
â”‚   â””â”€â”€ meme.proto         # Protocol Buffers å®šä¹‰
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ lib.rs             # ä¸»è¦ä¸šåŠ¡é€»è¾‘
â”‚   â””â”€â”€ pb/
â”‚       â”œâ”€â”€ mod.rs         # Protobuf æ¨¡å—
â”‚       â””â”€â”€ meme.rs        # ç”Ÿæˆçš„ Protobuf ä»£ç 
â””â”€â”€ target/
    â””â”€â”€ wasm32-unknown-unknown/
        â””â”€â”€ release/
            â””â”€â”€ substreams.wasm  # ç¼–è¯‘åçš„ WebAssembly æ¨¡å—
```