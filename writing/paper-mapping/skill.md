---
name: paper-mapping
description: "论文段落级仿写映射工具：在同领域同思想框架前提下，建立论文段落间的结构、逻辑、方法映射关系。触发词：/mapping、论文映射、段落映射"
---

# 论文映射工具

在同领域同思想框架前提下，建立论文段落级仿写映射关系。

## 触发方式

- `/mapping <目标文件>`
- 「帮我做论文映射」
- 「建立段落映射关系」

## 工作流程

1. 接收目标文件路径
2. 扫描 `mdfile/` 目录下的所有论文（Markdown 格式）
3. 按四大维度判断映射关系
4. 输出结果到 `<目标文件>_mapping.md`

## 前置硬性约束

在任何映射判断之前，必须先满足以下前置条件：

### 1. 领域一致（Same Domain）
- 我的论文与候选论文必须研究同一类问题域
- 例如：BFT 共识 / 区块链协议 / 网络安全 / IoV / 分布式系统
- 若仅场景相似但研究对象不同（如 PoS vs BFT），禁止映射

### 2. 思想框架一致（Same Paradigm）
- 双方必须采用相同的问题建模范式
- 例如：在既有共识协议（HotStuff / PBFT）框架内进行增强
- 若对方论文属于"完全重设计新协议 / 新安全模型"，禁止映射

**只要上述任一条件不满足，直接判定：不建立映射**

## 四大映射判断维度

### 1. 概念指纹匹配（Concept Fingerprint Matching）

判断标准：
- 不看名称是否一致，而看**物理含义或数学内核是否等价或高度相似**

判断流程：
- 从我的段落中抽取关键概念（如：EDR、信誉衰减、Leader 惩罚）
- 在候选论文中寻找：
  - 数学形式等价（如乘法惩罚 ≈ 指数衰减）
  - 逻辑功能等价（如信誉抑制 ≈ 长期恶意节点隔离）

### 2. 场景特征可迁移性（Scenario Transferability）

判断标准：
- 不要求应用场景名称相同
- 但要求**底层系统约束高度同构**

重点比较：
- 延迟 / 实时性要求
- 网络同步假设
- 节点资源受限程度
- 对鲁棒性和可预测性的要求

### 3. 功能模块互补性（Functional Modularity）

判断标准：
- 我的论文中是否存在某一"机制短板"
- 候选论文中是否存在**可独立抽取的功能模块**用于补全该短板

典型情形：
- 原始 HotStuff 缺乏动态节点管理 → 借鉴动态加入/退出模块
- 原始 BFT 选主机制过于静态 → 借鉴信誉驱动选主思想

### 4. 实验范式复刻价值（Experimental Paradigm Matching）

判断标准：
- 我的论文是否需要证明某一核心卖点
- 候选论文是否提供了成熟的实验范式来证明同类卖点

重点关注：
- 自变量设计（如恶意节点比例、批大小、节点规模）
- 性能指标选择（TPS、Latency、Leader 命中率）
- 对照组设置方式

## 快速决策优先级

按以下顺序判断，一旦命中即可映射：

1. **名称直接匹配（Nominal Match）**
   - 如 VRF ↔ VRF，Threshold Signature ↔ Threshold Signature

2. **内核原理匹配（Intrinsic Match）**
   - 如 EDR ↔ Multiplicative Penalty / Reputation Decay

3. **短板补全匹配（Complementary Match）**
   - 如 HotStuff 静态假设 ↔ 动态成员管理机制

4. **环境约束匹配（Contextual Match）**
   - 如 IoV ↔ TSN / IoT 在实时性与资源约束上的同构性

## 禁止的映射行为

- 禁止仅因"文字相似"而建立映射
- 禁止跨思想框架（如 BFT ↔ PoS）映射
- 禁止将整篇论文作为映射对象，映射必须是**段落级或模块级**
- 禁止为了凑 Related Work 而强行映射

## 输出文件规范

### 文件名
`<目标文件>_mapping.md`

### 格式要求

**只保留一个扁平映射表，禁止多视图重复。**

文件结构：
1. 标题行（含目标文档路径、章节、日期）
2. 段落索引表（段落编号 | 行号 | 一句话概述，不贴原文）
3. 映射主表（每条映射一行）

### 映射主表字段

| 字段 | 说明 |
|------|------|
| ID | M01, M02... |
| 源段落 | P1, P2-1, P2-2 等 |
| 类型 | Intrinsic / Contextual / Complementary / Nominal |
| 目标论文 | 文件名（不含路径） |
| 目标位置 | §编号 + 行号范围 |
| 理由 | 一句话，≤30字 |
| 仿写层 | 问题表述 / 方法思想 / 机制设计 / 实验范式 |

### 禁止内容

- 禁止引用原文段落全文（只写编号+概述）
- 禁止输出「仿写建议」「引用建议」「优先级排序」「总结」等写作指导
- 禁止同一映射数据出现两种组织视图（按段落 vs 按维度）
- 单章节映射文件不超过 80 行

### 输出约束

- 映射结果严禁在终端直接展示，必须以文件形式保存
- 若文件已存在，追加或更新对应条目，严禁覆盖
- 禁止生成任何论文正文或改写文本
