---
name: plan-writing
description: "计划文档格式规范。触发词：/plan-writing、写计划、计划文档规范"
---

# 计划文档格式规范

**核心原则：计划 ≠ 实现，计划文档只描述「做什么」，绝对不含代码**

## 计划文档 vs 实现文档

| 文档类型 | 内容 | 代码 | 用途 |
|----------|------|------|------|
| 计划文档 | 任务描述、验证标准、文件清单 | **绝对禁止** | 规划、审批、进度跟踪 |
| 实现文档 | 具体代码、配置、命令 | 允许 | 执行参考、知识沉淀 |

## 标准 Task 格式

```
### Task X.Y: [任务名称]

**目标:** [一句话描述]

**Files:**
- Create: `path/to/new/file`
- Modify: `path/to/existing/file`
- Reference: `path/to/reference/file`

**Steps:**
1. [动作描述，不含代码]
2. [动作描述]
3. Commit: `[commit message]`

**验证:** [验证命令] → [预期结果]
```

## 测试用例描述

用表格而非代码块：

```
**测试用例:**
| 用例 | 描述 |
|------|------|
| test_xxx | 验证 xxx 功能 |
| test_yyy | 验证 yyy 边界条件 |
```

## 规则

1. Task 数量 ≥ 5 时，必须生成目录
2. 函数/接口用表格描述（函数名 | 用途），非代码签名

## 禁止事项

| 禁止 | 说明 |
|------|------|
| 代码块 | 计划文档中禁止 \`\`\`code\`\`\` |
| Steps 内联代码 | Steps 只写动作描述 |
| 代码展示测试用例 | 用表格描述 |
| 省略验证标准 | 每个 Task 必须有验证 |

## 提交前检查清单

- [ ] 文档中无代码块（目录结构示意除外）
- [ ] Steps 中无内联代码
- [ ] 测试用例用表格描述
- [ ] 验证命令写在「验证」字段
- [ ] 函数/接口用表格描述
